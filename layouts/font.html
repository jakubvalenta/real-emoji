<div class="bg-green">
  <div class="container">
    <div class="rich">
      <h2 id="try-it-out">Try it out</h2>
      <p>
        You can type the new emojis by typing specific sequences of the standard
        emojis.
      </p>
    </div>
    <div class="emoji-panel">
      <div class="emoji-panel__form">
        <textarea
          type="text"
          id="js-emoji-panel-input"
          class="emoji-panel__input emoji-string"
        >
Write something here using the picker on the right...
{{ range .Site.Data.Emoji.emojis }}
{{ delimit .chars "" }} is {{ delimit .chars " and " }}
{{- end }}</textarea
        >
      </div>
      <div id="js-emoji-panel-picker" class="emoji-panel__picker"></div>
      <noscript>
        JavaScript is required to show the emoji picker.
      </noscript>
      <script src="./node_modules/emojipanel/dist/emojipanel.js"></script>
      <script>
        (function() {
          function typeText(input, text) {
            var selStart = input.selectionStart;
            var selEnd = input.selectionEnd;
            var oldValue = input.value;
            input.value =
              oldValue.substring(0, selStart) +
              text +
              oldValue.substring(selEnd);
            input.setSelectionRange(
              selStart === selEnd ? selStart + text.length : selStart,
              selStart + text.length
            );
            input.focus();
          }

          function cursorAfterText(input, text) {
            var index = input.value.lastIndexOf(text);
            var cursorPos = index + text.length;
            input.setSelectionRange(cursorPos, cursorPos);
          }

          var input = document.getElementById('js-emoji-panel-input');
          cursorAfterText(input, '...');

          var emojiPanel = new EmojiPanel({
            container: '#js-emoji-panel-picker',
            json_url: './node_modules/emojipanel/dist/emojis.json',
            search: true,
            fitzpatrick: false
          });
          emojiPanel.addListener('select', emoji =>
            typeText(input, emoji.char)
          );
        })();
      </script>
    </div>
  </div>
</div>

<div class="container rich">
  <h2 id="download">Installation</h2>
  <div class="cols">
    <div class="col">
      <p>
        {{ .Site.title }} are available as an emoji font, which is also how the
        standard emojis work. The font is based on
        <a href="https://twitter.github.io/twemoji/">Twitterâ€™s emoji set</a>,
        therefore it contains not only the new emojis but also all the standard
        ones.
      </p>
    </div>
  </div>
  <hr />
  <div class="cols">
    <div class="col">
      <h3>Windows</h3>
      <ol>
        <li>Download <a href="dist/Emoji.ttf">Emoji.ttf</a>.</li>
        <li>Copy the font file to the <em>Fonts</em> folder.</li>
        <li>
          See
          <a
            href="https://github.com/eosrei/twemoji-color-font#install-on-windows"
            >Twemoji Color Font - Install on Windows</a
          >
          for more information.
        </li>
      </ol>
      <h3>macOS</h3>
      <ol>
        <li>Download <a href="dist/Emoji-mac.zip">Emoji-mac.zip</a>.</li>
        <li>
          Install the font file using <em>FontBook</em> and accept the warning.
        </li>
        <li>
          See
          <a href="https://github.com/eosrei/twemoji-color-font#install-on-os-x"
            >Twemoji Color Font - Install on OS X</a
          >
          for more information.
        </li>
      </ol>
      <h3>Linux</h3>
      <ol>
        <li>Download <a href="dist/Emoji.ttf">Emoji.ttf</a>.</li>
        <li>Copy the file to <code>~/.fonts/</code>.</li>
        <li>
          See
          <a
            href="https://github.com/eosrei/twemoji-color-font#install-on-linux"
            >Twemoji Color Font - Install on Linux</a
          >
          for more information.
        </li>
      </ol>
    </div>
    <div class="col">
      <h3>iOS</h3>
      <ol>
        <li>
          Your device needs to be <strong>jailbroken</strong>. This poses a
          security risk, so unless your device is already jailbroken, we don't
          suggest jailbreaking it just to install some emojis.
        </li>
        <li>Install the app BytaFont from a Cydia repository.</li>
        <li>Use the app BytaFont to replace the default emoji font.</li>
        <li>Please search the internet for more information.</li>
      </ol>
      <h3>Android</h3>
      <ol>
        <li>
          Your device needs to <strong>rooted</strong>. This poses a security
          risk, so unless your device is already rooted, we don't suggest
          rooting it just to install some emojis.
        </li>
        <li>Download <a href="dist/Emoji.ttf">Emoji.ttf</a>.</li>
        <li>
          Copy the font file using <code>adb</code> to
          <code>/system/fonts</code> and replace the default emoji font.
        </li>
        <li>
          See
          <a
            href="https://joyofandroid.com/how-to-install-custom-fonts-on-your-android-device/"
            >How to Install Custom Fonts on your Android Device</a
          >
          for more information.
        </li>
      </ol>
    </div>
  </div>
</div>
